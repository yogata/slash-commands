---
description: 学びをinbox.mdに追記する
---

# 学びの追記

開発中に得た学び（Tips）を `docs/tips/inbox.md` に追記します。

## 引数

- `$1` — タイトル（必須）
- `$2` — タグ（オプション、カンマ区切りで複数指定可能）
  - 例: `typescript`, `nextjs,react`, `supabase,auth,security`

---

## 手順

### 1. 現在日時の取得

```bash
date +%Y-%m-%d
```

### 2. inbox.mdの存在確認

```bash
ls docs/tips/inbox.md
```

- ファイルがない場合 → エラー終了。「先に `/tips-init` を実行してください」

### 3. 学び内容の収集

ユーザーから以下の情報を収集します：

- **事象**: 何が起きたか、何をしようとしたか（1行）
- **原因**: なぜ起きたか（複数行可）
- **対策**: どう解決したか（複数行可）
- **関連**: 関連するファイルパス（あれば）

### 4. inbox.mdへの追記

以下のフォーマットで `docs/tips/inbox.md` の先頭（ヘッダー直後）に追記します：

```markdown
## YYYY-MM-DD: タイトル

- **事象**: ...（1行）
- **原因**: ...（複数行可、インデントで表現）
- **対策**: ...（複数行可、インデントで表現）
- **関連**: `file/path.ts`
- **タグ**: #xxx #yyy

---
```

**追記コマンド例**:

```bash
# ファイルの内容を読み込み、ヘッダー直後に追記
```

### 5. 完了報告

- 追記したタイトル
- 追記したタグ一覧
- ファイルパス: `docs/tips/inbox.md`

---

## エラーハンドリング

| エラー               | 対処                                           |
| -------------------- | ---------------------------------------------- |
| inbox.mdが存在しない | エラー終了。「先に `/tips-init` を実行してください」 |
| タイトルが未指定     | エラー終了。「タイトルを指定してください」     |

---

## 使用例

```
/tips-add "Supabase RLSポリシーのデバッグ方法" "supabase,rls,debug"
```

→ タイトルとタグを指定して学びを追記

```
/tips-add "Next.js App Routerのキャッシュ制御"
```

→ タイトルのみ指定（タグなし）
